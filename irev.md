# iRev — Операционный мануал (техдок, строго по транскрипту)

> Формат: **что нажать → что проверить → что считать нормой → когда эскалировать**.
>
> Материал — «живое» обучение оператора (без презентации, всё объясняется на экране). Цель — операционная работа, не теория.


## Навигация по документу
- План занятия (структура)
- 1) Передправки лидов
- 2) Drilldown Reports
- 3) Fit по лидам
- 4) Дубли
- 5) CPL vs CPA vs FTD
- 6) Проверка через PP
- 7) Заведение ставок
- 8) Обновление ставки задним числом
- 9) Открытие партнёра и нового GEO

## Термины (минимум)
- **GEO:** страна/гео, в рамках которого ведём работу.
- **Cap:** лимит лидов.
- **CPL:** оплата за лид.
- **CPA / FTD:** оплата за депозит (FTD).
- **Injection:** ручная/массовая отправка выбранных лидов.

## Чек-лист безопасности (перед любыми действиями)
- Проверь, что **ставки заведены** (Affiliate Payouts и Advertiser Revenue).
- Если видишь **5–6 одинаковых ошибок подряд** — остановись и эскалируй (похоже на системную проблему).
- Любые изменения «задним числом» — делай пакетно через `hash` и фиксируй период/причину.

## План занятия (структура)
1. Передправки (re-routing / re-push лидов)
2. Drilldown Reports как рабочий инструмент
3. Fit по лидам (разбор запросов байеров)
4. Дубли и как их проверять
5. CPL vs CPA/FTD — что где смотреть
6. Проверка через PP (Partner Panel)
7. Заведение ставок (Rates)
8. Обновление ставки задним числом
9. Открытие партнёра и нового GEO

---

---

## 1) Передправки лидов (основной блок)

### 1.1 Что такое «передправка»
Передправка — это повторная отправка лидов, которых рекламодатель не принял, чаще всего из‑за:
- `Rotation Error`
- выбитых капов (cap переполнен)
- отсутствия доступных рекламодателей в ротации

### 1.2 Базовый алгоритм передправки (пошагово)
**Шаг 1 — выбираем GEO (работаем всегда по странам).**
Примеры из речи: Австрия / Норвегия / Италия.

**Шаг 2 — проваливаемся в лиды по этой стране.**
Сначала быстро проверяем, нет ли системной проблемы:
- если подряд идёт 5–6 одинаковых ошибок — похоже на массовую поломку
- если одинаковых подряд нет — проблема обычно не системная, можно работать точечно

**Шаг 3 — фильтруем лиды «чтобы не выбирать руками».**
Ставим фильтры:
- `Rejection Errors`
- `Rotation Error`

**Шаг 4 — выбираем нужные лиды пачкой.**
Обычно это 20–40+ лидов. Дальше сверяемся с капом:
- пример логики: cap = 40, лидов = 45 → лишнее не отправляем/учитываем риски

### 1.3 Экспорт в Manual Injections
В интерфейсе:
`Actions` → `Export to` → `Injections`

См. также: Manual Injections.

Параметры при создании:
- **Name (название): обязательно.** Без названия потом непонятно, что именно останавливать и где какое GEO.
- **Interval:** стандартно 180–300 секунд.
- **Mode:**
  - `Flow` — отправка по текущей ротации (используется всегда по умолчанию)
  - `Specific advertiser` — если нужно отправить строго одному рекламодателю

Шаблон названия (рекомендуется):
- `GEO | reason | date | interval` (пример: `IT | Rotation Error | 2026-01-19 | 300s`)

### 1.4 Отложенная передправка
Если нужно отправлять не сразу:
- выбираем дату
- выбираем время
- указываем часовой пояс (пример из речи: GMT+3)

Пример: поставить отправку через час или ровно в 14:00 (GMT+3).

### 1.5 Запуск и контроль
После `Submit` лиды появляются во вкладке `Manual Injections`, где видно:
- сколько лидов
- статус
- прогресс

Можно остановить (`Stop`) инжекшен, если допущена ошибка.

Критическое правило из речи: **название injection всегда делаем понятным**, иначе придётся открывать каждый и руками смотреть GEO.

---

---

## 2) Drilldown Reports как ежедневный инструмент
Используется каждый день:
- отчёт **за вчера**
- отчёт **за сегодня**

Цели:
- не «потерять» GEO
- понять, где упёрлись в cap
- увидеть, где лиды зависли/не прошли
- понять, что можно передправить

---

---

## 3) Fit по лидам (разбор запросов байеров)

### 3.1 Когда байер просит «fit»
Типичные вопросы:
- «почему лид без выплаты?»
- «почему не приняли?»
- «где моя оплата?»

### 3.2 Базовый алгоритм проверки
1. Открываем `Leads`
2. Сбрасываем все фильтры
3. Ищем лид по одному из идентификаторов:
   - `sub`
   - `click_id`
   - `hash`
4. Смотрим по лиду:
   - сколько было рекламодателей (сколько раз пытались пушить)
   - кто отклонил
   - какие ошибки/причины

### 3.3 Массовая проверка
Если прислали много лидов (или «список за дату»):
- открываем нужное GEO
- выбираем дату
- просматриваем лиды подряд
- ищем: неотправленные / непринятые / зависшие

### 3.4 Решение — ответственность оператора
Оператор сам решает, отправлять ли «старые» лиды даже если:
- cap уже выбит
- трафик старый

Логика из речи: **если терять нечего — пробуем**, но ставим большой интервал (например, раз в 10 минут).

---

---

## 4) Дубли и как их проверять

### 4.1 Главное правило
Дубль проверяем **по номеру телефона**, не по почте.

Почему:
- почты часто разные
- телефон повторяется

### 4.2 Как проверяют дубль
1. Копируем номер телефона
2. В `Leads` сбрасываем фильтры
3. Ищем по `phone number`
4. Смотрим:
   - сколько раз регистрировался
   - в какие даты
   - сколько раз был оплачен
   - по каким моделям (CPL / CPA)

### 4.3 Типичный кейс из речи
Клиент мог быть зарегистрирован много раз (пример: 16), и уже раньше оплачен несколько раз (пример: 5). Новый байер не получает выплату, потому что рекламодатель «уже знает» пользователя.

Вывод, который проговаривается: **это не «плохие реклы» и не «хороший байер» — это одна и та же аудитория.**

---

---

## 5) CPL vs CPA vs FTD — что это значит в работе
Из речи:
- **CPL** — оплата за лид
- **CPA / FTD** — оплата за депозит

Важное отличие в интерфейсе:
- если лид получил **FTD**, он **пропадает из `Leads`** и появляется во вкладке FTD/событий (где смотрят депозиты)
- маленькие выплаты чаще соответствуют **CPL**
- большие выплаты чаще соответствуют **CPA / депозиту**

---

---

## 6) Проверка через PP (Partner Panel)
Используем, когда байер говорит: «я не вижу выплату».

Что делаем:
- заходим под байером
- проверяем **вкладку `Leads`, а не FTD**

Частая причина из речи: **лейт** — выплата могла прийти через 2–3 дня.

---

---

## 7) Заведение ставок (Rates)

### 7.1 Где заводятся ставки
Ставки заводятся **в двух местах**:
- `Affiliate Payout` — сколько платим байеру
- `Advertiser Revenue` — сколько получаем от рекла
- `Affiliate Payout` — сколько платим байеру
- `Advertiser Revenue` — сколько получаем от рекла

Даже если суммы одинаковые — заводят дважды.

### 7.2 GoalType — ключевой момент
Из речи:
- `Lead Pushed` → CPL
- `FTD` → CPA

Критическая ошибка: выбрать `Lead Pushed`, когда модель CPA.

### 7.3 Пример из речи
- Advertiser: `AllCrypto`
- GEO: Хорватия
- Модель: CPA
- GoalType: `FTD`
- Ставка: 150

---

---

## 8) Обновление ставки задним числом (самый сложный блок)

### 8.1 Когда нужно
Если ставка была выставлена неправильно — нужно поменять и в:
- `LD`
- `PPA`

### 8.2 Как делали раньше (плохо)
Раньше копировали ID каждого лида и вставляли по одному — неудобно.

### 8.3 Как делают сейчас (ключевая часть)
1. В `Leads` добавляют колонку `hash`
2. Делают `Data Export`
3. Копируют колонку `hash`
4. Вставляют списком (через запятую)
5. Открывают `Deal Updater`
6. Меняют ставку
7. `Approve`

Важно:
- можно вставлять десятки лидов разом
- `hash` удобнее, чем `click_id`

### 8.4 Лайфхак из речи
Если байер прислал список — можно прогнать в ChatGPT/DeepSeek с просьбой:
«сделай в одну строку через запятую без пробелов».

---

---

## 9) Открытие партнёра и нового GEO

### 9.1 Главное правило
**Сначала ставки — потом ротация.**

Иначе лиды пойдут с нулевой выплатой, и придётся править задним числом.

### 9.2 Открытие партнёра (в ротации)
1. Идём в `Rotation`
2. Выбираем GEO
3. `CPL Split` → `Add advertiser`
4. Ставим `Enabled = No`
5. Настраиваем:
   - часы работы КЦ
   - часовой пояс (пример из речи: GMT+3)
6. Только потом активируем

### 9.3 Открытие нового GEO
1. `Rotation Folder` → `Country`
2. Создаём/называем страну
3. Создаём `Split folder`
4. Вес (обычно 100)
5. `Enabled`
6. Часы работы
7. GMT+3
8. Проверяем ставки
9. `Activate`
 
